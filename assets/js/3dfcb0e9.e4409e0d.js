"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[3287],{6602:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/helpers/interfaces/PolledHTTPResource","title":"PolledHTTPResource","description":"Description of an external HTTP endpoint and how to poll it.","source":"@site/docs/api/helpers/interfaces/PolledHTTPResource.md","sourceDirName":"api/helpers/interfaces","slug":"/api/helpers/interfaces/PolledHTTPResource","permalink":"/docs/api/helpers/interfaces/PolledHTTPResource","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Entrypoint","permalink":"/docs/api/helpers/type-aliases/Entrypoint"},"next":{"title":"Count","permalink":"/docs/api/helpers/classes/Count"}}');var t=r(4848),d=r(8453);const i={},l="PolledHTTPResource",a={},o=[{value:"Properties",id:"properties",level:2},{value:"conv()",id:"conv",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"encodeParams()?",id:"encodeparams",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"interval",id:"interval",level:3},{value:"options?",id:"options",level:3},{value:"headers?",id:"headers",level:4},{value:"Index Signature",id:"index-signature",level:5},{value:"timeout?",id:"timeout",level:4},{value:"url",id:"url",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"polledhttpresource",children:"PolledHTTPResource"})}),"\n",(0,t.jsx)(n.p,{children:"Description of an external HTTP endpoint and how to poll it."}),"\n",(0,t.jsxs)(n.p,{children:["The URL of the external resource is formed by appending the given base ",(0,t.jsx)(n.code,{children:"url"})," and the result of ",(0,t.jsx)(n.code,{children:"encodeParams(params)"})," where ",(0,t.jsx)(n.code,{children:"params"})," are the parameters provided to ",(0,t.jsx)(n.a,{href:"https://skiplabs.io/docs/api/core/interfaces/Context#useexternalresource",children:(0,t.jsx)(n.code,{children:"Context#useExternalResource"})})]}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"conv",children:"conv()"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"conv: (data) => Entry<Json, Json>[];\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Function to convert data received from external resource to ",(0,t.jsx)(n.code,{children:"key"}),"-",(0,t.jsx)(n.code,{children:"value"})," entries."]}),"\n",(0,t.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"data"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Json"})})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Entry"}),"<",(0,t.jsx)(n.code,{children:"Json"}),", ",(0,t.jsx)(n.code,{children:"Json"}),">[]"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"encodeparams",children:"encodeParams()?"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"optional encodeParams: (params) => string;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Function to use to encode params of type ",(0,t.jsx)(n.code,{children:"Json"})," for external resource request."]}),"\n",(0,t.jsxs)(n.p,{children:["Note that the result of ",(0,t.jsx)(n.code,{children:"encodeParams"})," may contain a ",(0,t.jsx)(n.code,{children:"?"})," separator, but it need not be at the beginning of the returned string, so some parameters can be used in part of the URL preceding the ",(0,t.jsx)(n.code,{children:"?"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"params"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Json"})})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"string"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"interval",children:"interval"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interval: number;\n"})}),"\n",(0,t.jsx)(n.p,{children:"The interval of time to wait before refreshing the data, given in milliseconds"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"options",children:"options?"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"optional options: object;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Optional parameters: additional ",(0,t.jsx)(n.code,{children:"headers"})," to add to request, and ",(0,t.jsx)(n.code,{children:"timeout"})," for request, in milliseconds. (default 1000ms)"]}),"\n",(0,t.jsx)(n.h4,{id:"headers",children:"headers?"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"optional headers: object;\n"})}),"\n",(0,t.jsx)(n.h5,{id:"index-signature",children:"Index Signature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"[header: string]: string\n"})}),"\n",(0,t.jsx)(n.h4,{id:"timeout",children:"timeout?"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"optional timeout: number;\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"url",children:"url"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"url: string;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Base URL of resource to poll."})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var s=r(6540);const t={},d=s.createContext(t);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);