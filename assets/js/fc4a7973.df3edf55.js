"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[5229],{6529:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>t,contentTitle:()=>l,default:()=>o,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"api/api/interfaces/EagerCollection","title":"EagerCollection&lt;K, V&gt;","description":"A reactive collection eagerly kept up-to-date.","source":"@site/docs/api/api/interfaces/EagerCollection.md","sourceDirName":"api/api/interfaces","slug":"/api/api/interfaces/EagerCollection","permalink":"/docs/api/api/interfaces/EagerCollection","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Context","permalink":"/docs/api/api/interfaces/Context"},"next":{"title":"ExternalService","permalink":"/docs/api/api/interfaces/ExternalService"}}');var c=r(4848),d=r(8453);const i={},l="EagerCollection<K, V>",t={},a=[{value:"Extends",id:"extends",level:2},{value:"Type Parameters",id:"type-parameters",level:2},{value:"Methods",id:"methods",level:2},{value:"getArray()",id:"getarray",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"getUnique()",id:"getunique",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Throws",id:"throws",level:4},{value:"map()",id:"map",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Remarks",id:"remarks",level:4},{value:"mapReduce()",id:"mapreduce",level:3},{value:"Type Parameters",id:"type-parameters-2",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Type Parameters",id:"type-parameters-3",level:5},{value:"Parameters",id:"parameters-4",level:5},{value:"Returns",id:"returns-4",level:5},{value:"merge()",id:"merge",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"reduce()",id:"reduce",level:3},{value:"Type Parameters",id:"type-parameters-4",level:4},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Remarks",id:"remarks-1",level:4},{value:"size()",id:"size",level:3},{value:"Returns",id:"returns-7",level:4},{value:"slice()",id:"slice",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-8",level:4},{value:"slices()",id:"slices",level:3},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-9",level:4},{value:"take()",id:"take",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-10",level:4}];function h(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"eagercollectionk-v",children:"EagerCollection<K, V>"})}),"\n",(0,c.jsx)(s.p,{children:"A reactive collection eagerly kept up-to-date."}),"\n",(0,c.jsxs)(s.p,{children:["An ",(0,c.jsx)(s.code,{children:"EagerCollection"})," is a reactive collection of entries that associate keys to values where the entries are computed eagerly and kept up to date whenever inputs change."]}),"\n",(0,c.jsx)(s.h2,{id:"extends",children:"Extends"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Managed",children:(0,c.jsx)(s.code,{children:"Managed"})})}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Type Parameter"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"K"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of keys."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"V"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of values."})]})]})]}),"\n",(0,c.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,c.jsx)(s.h3,{id:"getarray",children:"getArray()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"getArray(key): V & DepSafe[]\n"})}),"\n",(0,c.jsx)(s.p,{children:"Get all values associated to a key."}),"\n",(0,c.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsx)(s.tbody,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"key"})}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"K"})}),(0,c.jsx)(s.td,{children:"The key to query."})]})})]}),"\n",(0,c.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"V"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"[]"]}),"\n",(0,c.jsxs)(s.p,{children:["The values associated to ",(0,c.jsx)(s.code,{children:"key"}),"."]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"getunique",children:"getUnique()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"getUnique(key): V & DepSafe\n"})}),"\n",(0,c.jsx)(s.p,{children:"Get the single value associated to a key."}),"\n",(0,c.jsxs)(s.p,{children:["For collections that do not use the generality of associating multiple values to a key, ",(0,c.jsx)(s.code,{children:"getUnique"})," saves some boilerplate over ",(0,c.jsx)(s.code,{children:"getArray"}),"."]}),"\n",(0,c.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsx)(s.tbody,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"key"})}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"K"})}),(0,c.jsx)(s.td,{children:"The key to query."})]})})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"V"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})})]}),"\n",(0,c.jsxs)(s.p,{children:["The value associated to ",(0,c.jsx)(s.code,{children:"key"}),"."]}),"\n",(0,c.jsx)(s.h4,{id:"throws",children:"Throws"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/classes/NonUniqueValueException",children:"NonUniqueValueException"})," if ",(0,c.jsx)(s.code,{children:"key"})," is associated to either zero or multiple values."]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"map",children:"map()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"map<K2, V2, Params>(mapper, ...params): EagerCollection<K2, V2>\n"})}),"\n",(0,c.jsx)(s.p,{children:"Create a new eager collection by mapping a function over the values in this one."}),"\n",(0,c.jsxs)(s.p,{children:["For ",(0,c.jsx)(s.code,{children:"collection.map(MapperClass, params)"}),", the ",(0,c.jsx)(s.code,{children:"MapperClass"})," parameter should be the constructor function of a top-level class that implements the ",(0,c.jsx)(s.code,{children:"Mapper"})," interface.\nThis ",(0,c.jsx)(s.code,{children:"MapperClass"})," is instantiated to obtain a mapper object ",(0,c.jsx)(s.code,{children:"MapperClass(params)"}),".\nFor each entry ",(0,c.jsx)(s.code,{children:"[key, values]"})," in ",(0,c.jsx)(s.code,{children:"collection"}),", the result of ",(0,c.jsx)(s.code,{children:"MapperClass(params).mapEntry(key, values)"})," is some ",(0,c.jsx)(s.code,{children:"key"}),"-",(0,c.jsx)(s.code,{children:"value"})," pairs.\nThese ",(0,c.jsx)(s.code,{children:"key"}),"-",(0,c.jsx)(s.code,{children:"value"})," pairs, from calling ",(0,c.jsx)(s.code,{children:"mapEntry"})," on each of the entries in ",(0,c.jsx)(s.code,{children:"collection"}),", are combined to form the contents of the new collection.\nIf there are multiple pairs with the same key, the values are collected so that the result collection associates the key to all such values."]}),"\n",(0,c.jsx)(s.p,{children:"This not only produces the output collection, but also records a dependency edge in the computation graph, so that future updates to the input collection will eagerly trigger recomputation of the affected part of the output collection."}),"\n",(0,c.jsx)(s.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Type Parameter"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"K2"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of keys of the new collection."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"V2"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of values of the new collection."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"Params"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"[]"]}),(0,c.jsxs)(s.td,{children:["Types of additional parameters passed to ",(0,c.jsx)(s.code,{children:"mapper"}),"."]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"mapper"})}),(0,c.jsxs)(s.td,{children:["(...",(0,c.jsx)(s.code,{children:"params"}),") => ",(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/Mapper",children:(0,c.jsx)(s.code,{children:"Mapper"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),", ",(0,c.jsx)(s.code,{children:"K2"}),", ",(0,c.jsx)(s.code,{children:"V2"}),">"]}),(0,c.jsxs)(s.td,{children:["Constructor of ",(0,c.jsx)(s.code,{children:"Mapper"})," class to transform each entry of this collection."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"params"})]}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"Params"})}),(0,c.jsxs)(s.td,{children:["Additional parameters to ",(0,c.jsx)(s.code,{children:"mapper"}),"."]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-2",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K2"}),", ",(0,c.jsx)(s.code,{children:"V2"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The resulting eager collection."}),"\n",(0,c.jsx)(s.h4,{id:"remarks",children:"Remarks"}),"\n",(0,c.jsxs)(s.p,{children:["The reason ",(0,c.jsx)(s.code,{children:"map"})," accepts the ",(0,c.jsx)(s.code,{children:"Mapper"})," class constructor and ",(0,c.jsx)(s.code,{children:"params"})," separately and instantiates the class internally is to avoid the resulting ",(0,c.jsx)(s.code,{children:"mapEntry"})," functions from being able to access other objects that the Skip Runtime is not aware of, and hence cannot track updates to.\nThis is also the reason the ",(0,c.jsx)(s.code,{children:"params"})," need to have type ",(0,c.jsx)(s.code,{children:"DepSafe[]"}),", as this requires them to be either constant or tracked by the Skip Runtime.\nIt is a ",(0,c.jsx)(s.strong,{children:"bad idea"})," to attempt to circumvent the spirit of the constraints this interface imposes."]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"mapreduce",children:"mapReduce()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"mapReduce<K2, V2, MapperParams>(mapper, ...mapperParams): <Accum, ReducerParams>(reducer, ...reducerParams) => EagerCollection<K2, Accum>\n"})}),"\n",(0,c.jsxs)(s.p,{children:["Composition of ",(0,c.jsx)(s.code,{children:"map"})," and ",(0,c.jsx)(s.code,{children:"reduce"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["The result of ",(0,c.jsx)(s.code,{children:"collection.mapReduce(MapperClass, mapperParams)(ReducerClass, reducerParams)"})," is equivalent to ",(0,c.jsx)(s.code,{children:"collection.map(MapperClass, mapperParams).reduce(ReducerClass, reducerParams)"})," but more efficient due to avoiding the intermediate collection."]}),"\n",(0,c.jsxs)(s.p,{children:["Note that this function is ",(0,c.jsx)(s.em,{children:"curried"})," so that mapper and reducer rest parameters can be provided separately, e.g. as ",(0,c.jsx)(s.code,{children:"mapReduce(MyMapper, foo, bar)(MyReducer, baz)"})]}),"\n",(0,c.jsx)(s.h4,{id:"type-parameters-2",children:"Type Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Type Parameter"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"K2"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of keys of the new collection."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"V2"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of values of the new collection."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"MapperParams"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"[]"]}),(0,c.jsxs)(s.td,{children:["Types of additional parameters passed to ",(0,c.jsx)(s.code,{children:"mapper"}),"."]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"mapper"})}),(0,c.jsxs)(s.td,{children:["(...",(0,c.jsx)(s.code,{children:"params"}),") => ",(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/Mapper",children:(0,c.jsx)(s.code,{children:"Mapper"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),", ",(0,c.jsx)(s.code,{children:"K2"}),", ",(0,c.jsx)(s.code,{children:"V2"}),">"]}),(0,c.jsxs)(s.td,{children:["Constructor of ",(0,c.jsx)(s.code,{children:"Mapper"})," class to transform each entry of this collection."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"mapperParams"})]}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"MapperParams"})}),(0,c.jsxs)(s.td,{children:["Additional parameters to ",(0,c.jsx)(s.code,{children:"mapper"}),"."]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-3",children:"Returns"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.code,{children:"Function"})}),"\n",(0,c.jsx)(s.h5,{id:"type-parameters-3",children:"Type Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Type Parameter"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"Accum"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of accumulated values."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"ReducerParams"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"[]"]}),(0,c.jsxs)(s.td,{children:["Types of additional parameters passed to ",(0,c.jsx)(s.code,{children:"reducer"})]})]})]})]}),"\n",(0,c.jsx)(s.h5,{id:"parameters-4",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"reducer"})}),(0,c.jsxs)(s.td,{children:["(...",(0,c.jsx)(s.code,{children:"params"}),") => ",(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/Reducer",children:(0,c.jsx)(s.code,{children:"Reducer"})}),"<",(0,c.jsx)(s.code,{children:"V2"}),", ",(0,c.jsx)(s.code,{children:"Accum"}),">"]}),(0,c.jsxs)(s.td,{children:["Constructor of ",(0,c.jsx)(s.code,{children:"Reducer"})," class to accumulate values of this collection."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"reducerParams"})]}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"ReducerParams"})}),(0,c.jsxs)(s.td,{children:["Additional parameters to ",(0,c.jsx)(s.code,{children:"reducer"})]})]})]})]}),"\n",(0,c.jsx)(s.h5,{id:"returns-4",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K2"}),", ",(0,c.jsx)(s.code,{children:"Accum"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The resulting eager collection."}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"merge",children:"merge()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"merge(...others): EagerCollection<K, V>\n"})}),"\n",(0,c.jsxs)(s.p,{children:["Combine some eager collections into one, associating with each key ",(0,c.jsx)(s.em,{children:"all"})," values associated with that key in any of the input collections."]}),"\n",(0,c.jsx)(s.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsx)(s.tbody,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"others"})]}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),">[]"]}),(0,c.jsx)(s.td,{children:"Eager collections to merge with this one."})]})})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The resulting combination of all input key-value pairs."}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"reduce",children:"reduce()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"reduce<Accum, Params>(reducer, ...params): EagerCollection<K, Accum>\n"})}),"\n",(0,c.jsx)(s.p,{children:"Create a new eager collection from this one that accumulates each key's values."}),"\n",(0,c.jsxs)(s.p,{children:["For ",(0,c.jsx)(s.code,{children:"collection.reduce(ReducerClass, reducerParams)"}),", the ",(0,c.jsx)(s.code,{children:"ReducerClass"})," parameter should be the constructor function of a top-level class that implements the ",(0,c.jsx)(s.code,{children:"Reducer"})," interface.\nThis ",(0,c.jsx)(s.code,{children:"ReducerClass"})," is instantiated to obtain a reducer object ",(0,c.jsx)(s.code,{children:"ReducerClass(reducerParams)"}),".\nFor each entry ",(0,c.jsx)(s.code,{children:"[key, values]"})," in ",(0,c.jsx)(s.code,{children:"collection"}),", the result collection associates each ",(0,c.jsx)(s.code,{children:"key"})," to the accumulated result of calling ",(0,c.jsx)(s.code,{children:"ReducerClass(reducerParams).add"})," on each value in ",(0,c.jsx)(s.code,{children:"values"}),", starting from ",(0,c.jsx)(s.code,{children:"ReducerClass(reducerParams).initial"}),".\nThat is, if ",(0,c.jsx)(s.code,{children:"values"})," is ",(0,c.jsx)(s.code,{children:"[v1,...,vN]"}),", then ",(0,c.jsx)(s.code,{children:"key"})," will be associated with ",(0,c.jsx)(s.code,{children:"add(...add(add(initial, v1), v2),...,vN)"})," in the output collection."]}),"\n",(0,c.jsx)(s.p,{children:"This not only produces the output collection, but also records a dependency edge in the computation graph, so that future updates to the input collection will eagerly trigger recomputation of the affected part of the output collection."}),"\n",(0,c.jsxs)(s.p,{children:["During such recomputations, if an update is made to the input collection that results in a value that used to be associated to a key no longer being associated, then the reducer object's ",(0,c.jsx)(s.code,{children:"remove"})," function is used to update the accumulated value.\nThe ",(0,c.jsx)(s.code,{children:"remove"})," function may return ",(0,c.jsx)(s.code,{children:"null"}),", in which case the accumulated value is recomputed using ",(0,c.jsx)(s.code,{children:"add"})," and ",(0,c.jsx)(s.code,{children:"initial"}),"."]}),"\n",(0,c.jsx)(s.h4,{id:"type-parameters-4",children:"Type Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Type Parameter"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"Accum"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/Json",children:(0,c.jsx)(s.code,{children:"Json"})})]}),(0,c.jsx)(s.td,{children:"Type of accumulated values."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"Params"})," ",(0,c.jsx)(s.em,{children:"extends"})," ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"[]"]}),(0,c.jsxs)(s.td,{children:["Types of additional parameters passed to ",(0,c.jsx)(s.code,{children:"reducer"})]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"reducer"})}),(0,c.jsxs)(s.td,{children:["(...",(0,c.jsx)(s.code,{children:"params"}),") => ",(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/Reducer",children:(0,c.jsx)(s.code,{children:"Reducer"})}),"<",(0,c.jsx)(s.code,{children:"V"}),", ",(0,c.jsx)(s.code,{children:"Accum"}),">"]}),(0,c.jsxs)(s.td,{children:["Constructor of ",(0,c.jsx)(s.code,{children:"Reducer"})," class to accumulate values of this collection."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"params"})]}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"Params"})}),(0,c.jsxs)(s.td,{children:["Additional parameters to ",(0,c.jsx)(s.code,{children:"reducer"})]})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-6",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"Accum"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The resulting eager collection."}),"\n",(0,c.jsx)(s.h4,{id:"remarks-1",children:"Remarks"}),"\n",(0,c.jsxs)(s.p,{children:["The reason ",(0,c.jsx)(s.code,{children:"reduce"})," accepts the ",(0,c.jsx)(s.code,{children:"Reducer"})," class constructor and ",(0,c.jsx)(s.code,{children:"params"})," separately and instantiates the class internally is to avoid the resulting ",(0,c.jsx)(s.code,{children:"add"})," and ",(0,c.jsx)(s.code,{children:"remove"})," functions from being able to access other objects that the Skip Runtime is not aware of, and hence cannot track updates to.\nThis is also the reason the ",(0,c.jsx)(s.code,{children:"params"})," need to have type ",(0,c.jsx)(s.code,{children:"DepSafe[]"}),", as this requires them to be either constant values or tracked by the Skip Runtime.\nIt is a ",(0,c.jsx)(s.strong,{children:"bad idea"})," to attempt to circumvent the spirit of the constraints this interface imposes."]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"size",children:"size()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"size(): number\n"})}),"\n",(0,c.jsx)(s.p,{children:"The current number of entries in the collection."}),"\n",(0,c.jsx)(s.h4,{id:"returns-7",children:"Returns"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.code,{children:"number"})}),"\n",(0,c.jsx)(s.p,{children:"The number of entries."}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"slice",children:"slice()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"slice(start, end): EagerCollection<K, V>\n"})}),"\n",(0,c.jsx)(s.p,{children:"Create a new eager collection by keeping only the elements whose keys are in the given range."}),"\n",(0,c.jsx)(s.h4,{id:"parameters-7",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"start"})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"K"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})})]}),(0,c.jsx)(s.td,{children:"The least key whose entry will be kept in the result."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"end"})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"K"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})})]}),(0,c.jsx)(s.td,{children:"The greatest key whose entry will be kept in the result."})]})]})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-8",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The restricted eager collection."}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"slices",children:"slices()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"slices(...ranges): EagerCollection<K, V>\n"})}),"\n",(0,c.jsx)(s.p,{children:"Create a new eager collection by keeping only the elements whose keys are in at least one of the given ranges."}),"\n",(0,c.jsx)(s.h4,{id:"parameters-8",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsx)(s.tbody,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["...",(0,c.jsx)(s.code,{children:"ranges"})]}),(0,c.jsxs)(s.td,{children:["[",(0,c.jsx)(s.code,{children:"K"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),", ",(0,c.jsx)(s.code,{children:"K"})," & ",(0,c.jsx)(s.a,{href:"/docs/api/api/type-aliases/DepSafe",children:(0,c.jsx)(s.code,{children:"DepSafe"})}),"][]"]}),(0,c.jsx)(s.td,{children:"The pairs of lower and upper bounds on keys to keep in the result."})]})})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-9",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The restricted eager collection."}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h3,{id:"take",children:"take()"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-ts",children:"take(limit): EagerCollection<K, V>\n"})}),"\n",(0,c.jsx)(s.p,{children:"Create a new eager collection by keeping the first entries."}),"\n",(0,c.jsx)(s.h4,{id:"parameters-9",children:"Parameters"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Parameter"}),(0,c.jsx)(s.th,{children:"Type"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsx)(s.tbody,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"limit"})}),(0,c.jsx)(s.td,{children:(0,c.jsx)(s.code,{children:"number"})}),(0,c.jsx)(s.td,{children:"The number of entries to keep."})]})})]}),"\n",(0,c.jsx)(s.h4,{id:"returns-10",children:"Returns"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"/docs/api/api/interfaces/EagerCollection",children:(0,c.jsx)(s.code,{children:"EagerCollection"})}),"<",(0,c.jsx)(s.code,{children:"K"}),", ",(0,c.jsx)(s.code,{children:"V"}),">"]}),"\n",(0,c.jsx)(s.p,{children:"The restricted eager collection."})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>l});var n=r(6540);const c={},d=n.createContext(c);function i(e){const s=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);